<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US"      xmlns:metal="http://xml.zope.org/namespaces/metal"      xmlns:tal="http://xml.zope.org/namespaces/tal"      xmlns:i18n="http://xml.zope.org/namespaces/i18n"      metal:use-macro="here/prefs_main_template/macros/master"      i18n:domain="PloneRadio"><body>  <div metal:fill-slot="prefs_configlet_main"       tal:condition="here/rejectAnonymous">    <h1 i18n:translate="heading_ploneradio_preferences">      PloneRadio preferences    </h1>    <a href="" class="link-parent"	   tal:condition="not:isAnon"	   tal:attributes="href string: $portal_url/plone_control_panel"	   i18n:domain="plone" i18n:translate="label_up_to_plone_setup">	  Up to Plone Setup    </a>    <p i18n:translate="description_ploneradio_preferences">	  Setting up stream details and enable/disable log file analysis.    </p>          <form action="" name="reconfig" method="post" tal:attributes="action string:$portal_url/prefs_ploneradio_set">      <fieldset>        <legend i18n:translate="legend_stream1">Stream 1</legend>	    <div class="field" tal:define="stream1_enable python:request.get('stream1_enable',context.portal_ploneradiotool.getProperty('stream1_enable'));">          <input type="checkbox"	             name="stream1_enable"	             value="stream1_enable"	             tal:attributes="checked python:test(stream1_enable,'checked',None)" /><label i18n:translate="label_ploneradioprefs_enable">Stream enabled</label>	    </div>	    <div class="field" tal:define="stream1_name python:request.get('stream1_name',context.portal_ploneradiotool.getProperty('stream1_name'));">          <label i18n:translate="label_ploneradioprefs_name">Name</label>          <div class="formHelp" i18n:translate="help_ploneradioprefs_name">	        Enter the name for the stream (e.g. Channel 1).	      </div>	      <input type="text"	             name="stream1_name"	             size="25"	             value="stream1_name html_quote"	             tal:attributes="value stream1_name; tabindex tabindex/next;" />	    </div>	    	    <div class="field" tal:define="stream1_url1 python:request.get('stream1_url1',context.portal_ploneradiotool.getProperty('stream1_url1'));">          <label i18n:translate="label_ploneradioprefs_url1">URL for first quality stream</label>          <div class="formHelp" i18n:translate="help_ploneradioprefs_url">	        Enter the URL for the stream e.g. http://streamingserver.org:8000/mountpoint	      </div>	      <input type="text"	             name="stream1_url1"	             size="50"	             value="stream1_url1 html_quote"	             tal:attributes="value stream1_url1; tabindex tabindex/next;" />	    </div>	    <div class="field" tal:define="stream1_url1_remarks python:request.get('stream1_url1_remarks',context.portal_ploneradiotool.getProperty('stream1_url1_remarks'));">          <label i18n:translate="label_ploneradioprefs_url_remarks">Remarks about the quality of the stream</label>          <div class="formHelp" i18n:translate="help_ploneradioprefs_url_remarks">	        If you have two qualities of your stream, provide some information about the quality like "high", "low", "broadband", "modem", "128 kps Stereo",...<br/>	        (leave empty if no info should be displayed)	      </div>	      <input type="text"	             name="stream1_url1_remarks"	             size="50"	             value="stream1_url1_remarks html_quote"	             tal:attributes="value stream1_url1_remarks; tabindex tabindex/next;" />	    </div>	    <div class="field" tal:define="stream1_url2 python:request.get('stream1_url2',context.portal_ploneradiotool.getProperty('stream1_url2'));">          <label i18n:translate="label_ploneradioprefs_url2">URL for second quality stream</label>          <div class="formHelp" i18n:translate="help_ploneradioprefs_url">	        Enter the URL for the stream e.g. http://streamingserver.org:8000/mountpoint<br/>	        (leave empty if you use only one stream)	      </div>	      <input type="text"	             name="stream1_url2"	             size="50"	             value="stream1_url2 html_quote"	             tal:attributes="value stream1_url2; tabindex tabindex/next;" />	    </div>	    <div class="field" tal:define="stream1_url2_remarks python:request.get('stream1_url2_remarks',context.portal_ploneradiotool.getProperty('stream1_url2_remarks'));">          <label i18n:translate="label_ploneradioprefs_url_remarks">Remarks about the quality of the stream</label>          <div class="formHelp" i18n:translate="help_ploneradioprefs_url_remarks">	        If you have two qualities of your stream, provide some information about the quality like "high", "low", "broadband", "modem", "128 kps Stereo",...<br/>	        (leave empty if no info should be displayed)	      </div>	      <input type="text"	             name="stream1_url2_remarks"	             size="50"	             value="stream1_url2_remarks html_quote"	             tal:attributes="value stream1_url2_remarks; tabindex tabindex/next;" />	    </div>	    <fieldset>	       <legend i18n:translate="legend_ploneradioprefs_log">Display of current / recent songs, album art, history</legend>		    <div class="field" tal:define="stream1_loganalysis_enable python:request.get('stream1_loganalysis_enable',context.portal_ploneradiotool.getProperty('stream1_loganalysis_enable'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_enable">Enable logfile analysis?</label>    	      <div class="formHelp" i18n:translate="help_ploneradioprefs_loganalysis_enable">		        Check if you want to analyse the logfiles / statuspage of your streamingserver to provide info about the current / recent playing tracks or want to display the album art of the currently playing track. Works with Nicecast and Icecast2 streaming server.		      </div>		      <input type="checkbox"		             name="stream1_loganalysis_enable"		             value="stream1_loganalysis_enable"		             tal:attributes="checked python:test(stream1_loganalysis_enable,'checked',None)" />		    </div>		    <div class="field" tal:define="stream1_loganalysis_type python:request.get('stream1_loganalysis_type',context.portal_ploneradiotool.getProperty('stream1_loganalysis_type'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_type">Streamingserver</label>    	      <div class="formHelp" i18n:translate="help_ploneradioprefs_loganalysis_type">		        Select the type of streamingserver or streamingserver source you are using. If you use Nicecast as your streaming source and the logfile is accessible via web, select "nicecast". If your source doesn't support playlist logging but you are using this source with an Icecast2 streamingserver and installed the "ploneradio_current.xsl" Stylesheet in the web directory of Icecast2, select "icecast2".		        		      </div>		      <select name="stream1_loganalysis_type">		        <option value="icecast2" 		                tal:attributes="selected python:test(stream1_loganalysis_type == 'icecast2', 'selected', None)">icecast2</option>                <option value="nicecast" 		                tal:attributes="selected python:test(stream1_loganalysis_type == 'nicecast', 'selected', None)">nicecast</option>		      </select>		    </div>	    		    <div class="field" tal:define="stream1_loganalysis_url python:request.get('stream1_loganalysis_url',context.portal_ploneradiotool.getProperty('stream1_loganalysis_url'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_url">Logfile for current / recent songs</label>    	      <div class="formHelp" i18n:translate="help_ploneradioprefs_loganalysis_url">		        Enter the URL to the logfile of the 20 last played songs of Nicecast (http://server/recentTracks.log) or the URL for the PloneRadio status page of Icecast2 server (http://server:8000/ploneradio_current.xsl)		      </div>		      <input type="text"		             name="stream1_loganalysis_url"		             size="50"		             value="stream1_loganalysis_url html_quote"		             tal:attributes="value stream1_loganalysis_url; tabindex tabindex/next;" />		    </div>		    <div class="field" tal:define="stream1_loganalysis_album_url python:request.get('stream1_loganalysis_album_url',context.portal_ploneradiotool.getProperty('stream1_loganalysis_album_url'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_album_url">URL of the album art file</label>    	      <div class="formHelp" i18n:translate="help_ploneradioprefs_loganalysis_album_url">		        If you want to display the album cover for the currently playing track, enter the URL to the graphics file here. This URL can be relative or absolute.<br/>		        (leave empty if you don't want to display the cover art)		      </div>		      <input type="text"		             name="stream1_loganalysis_album_url"		             size="50"		             value="stream1_loganalysis_album_url html_quote"		             tal:attributes="value stream1_loganalysis_album_url; tabindex tabindex/next;" />		    </div>		    <div class="field" tal:define="stream1_loganalysis_recentsongstolist python:request.get('stream1_loganalysis_recentsongstolist',context.portal_ploneradiotool.getProperty('stream1_loganalysis_recentsongstolist'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_recentsongstolist">Number of recent songs to list in Portlet</label><br/>		      <input type="text"		             name="stream1_loganalysis_recentsongstolist"		             size="4"		             value="stream1_loganalysis_recentsongstolist html_quote"		             tal:attributes="value stream1_loganalysis_recentsongstolist; tabindex tabindex/next;" />		    </div>		    <div class="field" tal:define="stream1_loganalysis_showlisteners python:request.get('stream1_loganalysis_showlisteners',context.portal_ploneradiotool.getProperty('stream1_loganalysis_showlisteners'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_showlisteners">Show the number of currently listening users?</label>    	      <div class="formHelp" i18n:translate="help_ploneradioprefs_loganalysis_showlisteners">		        Will be ignored for Nicecast logfiles!		      </div>		      <input type="checkbox"		             name="stream1_loganalysis_showlisteners"		             value="stream1_loganalysis_showlisteners"		             tal:attributes="checked python:test(stream1_loganalysis_showlisteners,'checked',None)" />		    </div>		    <div class="field" tal:define="stream1_loganalysis_history_type python:request.get('stream1_loganalysis_history_type',context.portal_ploneradiotool.getProperty('stream1_loganalysis_history_type'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_history_type">Type of playlist logfile to use for display of playlist history</label><br/>		      <select name="stream1_loganalysis_history_type">		        <option value="icecast2" 		                tal:attributes="selected python:test(stream1_loganalysis_history_type == 'icecast2', 'selected', None)">icecast2</option>                <option value="nicecast" 		                tal:attributes="selected python:test(stream1_loganalysis_history_type == 'nicecast', 'selected', None)">nicecast</option>		      </select>		    </div>	    		    <div class="field" tal:define="stream1_loganalysis_history_url python:request.get('stream1_loganalysis_history_url',context.portal_ploneradiotool.getProperty('stream1_loganalysis_history_url'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_history_url">URL for playlist logfile</label>    	      <div class="formHelp" i18n:translate="help_ploneradioprefs_loganalysis_history_url">		        Enter the URL to the playlist logfile (absolute or relative)		      </div>		      <input type="text"		             name="stream1_loganalysis_history_url"		             size="50"		             value="stream1_loganalysis_history_url html_quote"		             tal:attributes="value stream1_loganalysis_history_url; tabindex tabindex/next;" />		    </div>		    <div class="field" tal:define="stream1_loganalysis_history_songstolist python:request.get('stream1_loganalysis_history_songstolist',context.portal_ploneradiotool.getProperty('stream1_loganalysis_history_songstolist'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_history_songstolist">Number of songs to list in playlist history</label><br/>		      <input type="text"		             name="stream1_loganalysis_history_songstolist"		             size="4"		             value="stream1_loganalysis_history_songstolist html_quote"		             tal:attributes="value stream1_loganalysis_history_songstolist; tabindex tabindex/next;" />		    </div>	  	</fieldset>	  </fieldset>      <fieldset>        <legend i18n:translate="legend_stream2">Stream 2</legend>	    <div class="field" tal:define="stream2_enable python:request.get('stream2_enable',context.portal_ploneradiotool.getProperty('stream2_enable'));">          <input type="checkbox"	             name="stream2_enable"	             value="stream2_enable"	             tal:attributes="checked python:test(stream2_enable,'checked',None)" /><label i18n:translate="label_ploneradioprefs_enable">Stream enabled</label>	    </div>	    <div class="field" tal:define="stream2_name python:request.get('stream2_name',context.portal_ploneradiotool.getProperty('stream2_name'));">          <label i18n:translate="label_ploneradioprefs_name">Name</label>          <div class="formHelp" i18n:translate="help_ploneradioprefs_name">	        Enter the name for the stream (e.g. Channel 1).	      </div>	      <input type="text"	             name="stream2_name"	             size="25"	             value="stream2_name html_quote"	             tal:attributes="value stream2_name; tabindex tabindex/next;" />	    </div>	    	    <div class="field" tal:define="stream2_url1 python:request.get('stream2_url1',context.portal_ploneradiotool.getProperty('stream2_url1'));">          <label i18n:translate="label_ploneradioprefs_url1">URL for first quality stream</label>          <div class="formHelp" i18n:translate="help_ploneradioprefs_url">	        Enter the URL for the stream e.g. http://streamingserver.org:8000/mountpoint	      </div>	      <input type="text"	             name="stream2_url1"	             size="50"	             value="stream2_url1 html_quote"	             tal:attributes="value stream2_url1; tabindex tabindex/next;" />	    </div>	    <div class="field" tal:define="stream2_url1_remarks python:request.get('stream2_url1_remarks',context.portal_ploneradiotool.getProperty('stream2_url1_remarks'));">          <label i18n:translate="label_ploneradioprefs_url_remarks">Remarks about the quality of the stream</label>          <div class="formHelp" i18n:translate="help_ploneradioprefs_url_remarks">	        If you have two qualities of your stream, provide some information about the quality like "high", "low", "broadband", "modem", "128 kps Stereo",...<br/>	        (leave empty if no info should be displayed)	      </div>	      <input type="text"	             name="stream2_url1_remarks"	             size="50"	             value="stream2_url1_remarks html_quote"	             tal:attributes="value stream2_url1_remarks; tabindex tabindex/next;" />	    </div>	    <div class="field" tal:define="stream2_url2 python:request.get('stream2_url2',context.portal_ploneradiotool.getProperty('stream2_url2'));">          <label i18n:translate="label_ploneradioprefs_url2">URL for second quality stream</label>          <div class="formHelp" i18n:translate="help_ploneradioprefs_url">	        Enter the URL for the stream e.g. http://streamingserver.org:8000/mountpoint<br/>	        (leave empty if you use only one stream)	      </div>	      <input type="text"	             name="stream2_url2"	             size="50"	             value="stream2_url2 html_quote"	             tal:attributes="value stream2_url2; tabindex tabindex/next;" />	    </div>	    <div class="field" tal:define="stream2_url2_remarks python:request.get('stream2_url2_remarks',context.portal_ploneradiotool.getProperty('stream2_url2_remarks'));">          <label i18n:translate="label_ploneradioprefs_url_remarks">Remarks about the quality of the stream</label>          <div class="formHelp" i18n:translate="help_ploneradioprefs_url_remarks">	        If you have two qualities of your stream, provide some information about the quality like "high", "low", "broadband", "modem", "128 kps Stereo",...<br/>	        (leave empty if no info should be displayed)	      </div>	      <input type="text"	             name="stream2_url2_remarks"	             size="50"	             value="stream2_url2_remarks html_quote"	             tal:attributes="value stream2_url2_remarks; tabindex tabindex/next;" />	    </div>	    <fieldset>	       <legend i18n:translate="legend_ploneradioprefs_log">Display of current / recent songs, album art, history</legend>		    <div class="field" tal:define="stream2_loganalysis_enable python:request.get('stream2_loganalysis_enable',context.portal_ploneradiotool.getProperty('stream2_loganalysis_enable'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_enable">Enable logfile analysis?</label>    	      <div class="formHelp" i18n:translate="help_ploneradioprefs_loganalysis_enable">		        Check if you want to analyse the logfiles / statuspage of your streamingserver to provide info about the current / recent playing tracks or want to display the album art of the currently playing track. Works with Nicecast and Icecast2 streaming server.		      </div>		      <input type="checkbox"		             name="stream2_loganalysis_enable"		             value="stream2_loganalysis_enable"		             tal:attributes="checked python:test(stream2_loganalysis_enable,'checked',None)" />		    </div>		    <div class="field" tal:define="stream2_loganalysis_type python:request.get('stream2_loganalysis_type',context.portal_ploneradiotool.getProperty('stream2_loganalysis_type'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_type">Streamingserver</label>    	      <div class="formHelp" i18n:translate="help_ploneradioprefs_loganalysis_type">		        Select the type of streamingserver or streamingserver source you are using. If you use Nicecast as your streaming source and the logfile is accessible via web, select "nicecast". If your source doesn't support playlist logging but you are using this source with an Icecast2 streamingserver and installed the "ploneradio_current.xsl" Stylesheet in the web directory of Icecast2, select "icecast2".		        		      </div>		      <select name="stream2_loganalysis_type">		        <option value="icecast2" 		                tal:attributes="selected python:test(stream2_loganalysis_type == 'icecast2', 'selected', None)">icecast2</option>                <option value="nicecast" 		                tal:attributes="selected python:test(stream2_loganalysis_type == 'nicecast', 'selected', None)">nicecast</option>		      </select>		    </div>	    		    <div class="field" tal:define="stream2_loganalysis_url python:request.get('stream2_loganalysis_url',context.portal_ploneradiotool.getProperty('stream2_loganalysis_url'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_url">Logfile for current / recent songs</label>    	      <div class="formHelp" i18n:translate="help_ploneradioprefs_loganalysis_url">		        Enter the URL to the logfile of the 20 last played songs of Nicecast (http://server/recentTracks.log) or the URL for the PloneRadio status page of Icecast2 server (http://server:8000/ploneradio_current.xsl)		      </div>		      <input type="text"		             name="stream2_loganalysis_url"		             size="50"		             value="stream2_loganalysis_url html_quote"		             tal:attributes="value stream2_loganalysis_url; tabindex tabindex/next;" />		    </div>		    <div class="field" tal:define="stream2_loganalysis_album_url python:request.get('stream2_loganalysis_album_url',context.portal_ploneradiotool.getProperty('stream2_loganalysis_album_url'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_album_url">URL of the album art file</label>    	      <div class="formHelp" i18n:translate="help_ploneradioprefs_loganalysis_album_url">		        If you want to display the album cover for the currently playing track, enter the URL to the graphics file here. This URL can be relative or absolute.<br/>		        (leave empty if you don't want to display the cover art)		      </div>		      <input type="text"		             name="stream2_loganalysis_album_url"		             size="50"		             value="stream2_loganalysis_album_url html_quote"		             tal:attributes="value stream2_loganalysis_album_url; tabindex tabindex/next;" />		    </div>		    <div class="field" tal:define="stream2_loganalysis_recentsongstolist python:request.get('stream2_loganalysis_recentsongstolist',context.portal_ploneradiotool.getProperty('stream2_loganalysis_recentsongstolist'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_recentsongstolist">Number of recent songs to list in Portlet</label><br/>		      <input type="text"		             name="stream2_loganalysis_recentsongstolist"		             size="4"		             value="stream2_loganalysis_recentsongstolist html_quote"		             tal:attributes="value stream2_loganalysis_recentsongstolist; tabindex tabindex/next;" />		    </div>		    <div class="field" tal:define="stream2_loganalysis_showlisteners python:request.get('stream2_loganalysis_showlisteners',context.portal_ploneradiotool.getProperty('stream2_loganalysis_showlisteners'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_showlisteners">Show the number of currently listening users?</label>    	      <div class="formHelp" i18n:translate="help_ploneradioprefs_loganalysis_showlisteners">		        Will be ignored for Nicecast logfiles!		      </div>		      <input type="checkbox"		             name="stream2_loganalysis_showlisteners"		             value="stream2_loganalysis_showlisteners"		             tal:attributes="checked python:test(stream2_loganalysis_showlisteners,'checked',None)" />		    </div>		    <div class="field" tal:define="stream2_loganalysis_history_type python:request.get('stream2_loganalysis_history_type',context.portal_ploneradiotool.getProperty('stream2_loganalysis_history_type'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_history_type">Type of playlist logfile to use for display of playlist history</label><br/>		      <select name="stream2_loganalysis_history_type">		        <option value="icecast2" 		                tal:attributes="selected python:test(stream2_loganalysis_history_type == 'icecast2', 'selected', None)">icecast2</option>                <option value="nicecast" 		                tal:attributes="selected python:test(stream2_loganalysis_history_type == 'nicecast', 'selected', None)">nicecast</option>		      </select>		    </div>	    		    <div class="field" tal:define="stream2_loganalysis_history_url python:request.get('stream2_loganalysis_history_url',context.portal_ploneradiotool.getProperty('stream2_loganalysis_history_url'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_history_url">URL for playlist logfile</label>    	      <div class="formHelp" i18n:translate="help_ploneradioprefs_loganalysis_history_url">		        Enter the URL to the playlist logfile (absolute or relative)		      </div>		      <input type="text"		             name="stream2_loganalysis_history_url"		             size="50"		             value="stream2_loganalysis_history_url html_quote"		             tal:attributes="value stream2_loganalysis_history_url; tabindex tabindex/next;" />		    </div>		    <div class="field" tal:define="stream2_loganalysis_history_songstolist python:request.get('stream2_loganalysis_history_songstolist',context.portal_ploneradiotool.getProperty('stream2_loganalysis_history_songstolist'));">    	      <label i18n:translate="label_ploneradioprefs_loganalysis_history_songstolist">Number of songs to list in playlist history</label><br/>		      <input type="text"		             name="stream2_loganalysis_history_songstolist"		             size="4"		             value="stream2_loganalysis_history_songstolist html_quote"		             tal:attributes="value stream2_loganalysis_history_songstolist; tabindex tabindex/next;" />		    </div>	  	</fieldset>	  </fieldset>      <div class="formControls">	    <input class="context" tabindex=""	           type="submit" name="form.button.Save" value="Save" i18n:attributes="value"	           tal:attributes="tabindex tabindex/next;" />      </div>    </form>  </div></body></html>