## Script (Python) "prefs_ploneradio_set"##bind container=container##bind context=context##bind namespace=##bind script=script##bind subpath=traverse_subpath##parameters=##title=Setup PloneRadio##from Products.CMFPlone import transaction_noterequest = context.REQUESTpreferences = { 'stream1_enable' : request.get('stream1_enable', ''),'stream1_name' : request.get('stream1_name', ''),'stream1_url1' : request.get('stream1_url1', ''),'stream1_url1_remarks' : request.get('stream1_url1_remarks', ''),'stream1_url2' : request.get('stream1_url2', ''),'stream1_url2_remarks' : request.get('stream1_url2_remarks', ''),'stream1_loganalysis_enable' : request.get('stream1_loganalysis_enable', ''),'stream1_loganalysis_type' : request.get('stream1_loganalysis_type', ''),'stream1_loganalysis_url' : request.get('stream1_loganalysis_url', ''),'stream1_loganalysis_album_url' : request.get('stream1_loganalysis_album_url', ''),'stream1_loganalysis_recentsongstolist' : request.get('stream1_loganalysis_recentsongstolist', ''),'stream1_loganalysis_showlisteners' : request.get('stream1_loganalysis_showlisteners', ''),'stream1_loganalysis_history_url' : request.get('stream1_loganalysis_history_url', ''),'stream1_loganalysis_history_type' : request.get('stream1_loganalysis_history_type', ''),'stream1_loganalysis_history_songstolist' : request.get('stream1_loganalysis_history_songstolist', ''),'stream2_enable' : request.get('stream2_enable', ''),'stream2_name' : request.get('stream2_name', ''),'stream2_url1' : request.get('stream2_url1', ''),'stream2_url1_remarks' : request.get('stream2_url1_remarks', ''),'stream2_url2' : request.get('stream2_url2', ''),'stream2_url2_remarks' : request.get('stream2_url2_remarks', ''),'stream2_loganalysis_enable' : request.get('stream2_loganalysis_enable', ''),'stream2_loganalysis_type' : request.get('stream2_loganalysis_type', ''),'stream2_loganalysis_url' : request.get('stream2_loganalysis_url', ''),'stream2_loganalysis_album_url' : request.get('stream2_loganalysis_album_url', ''),'stream2_loganalysis_recentsongstolist' : request.get('stream2_loganalysis_recentsongstolist', ''),'stream2_loganalysis_showlisteners' : request.get('stream2_loganalysis_showlisteners', ''),'stream2_loganalysis_history_url' : request.get('stream2_loganalysis_history_url', ''),'stream2_loganalysis_history_type' : request.get('stream2_loganalysis_history_type', ''),'stream2_loganalysis_history_songstolist' : request.get('stream2_loganalysis_history_songstolist', '') }context.portal_ploneradiotool.setProperties(preferences)tmsg='PloneRadio Preferences updated.'transaction_note(tmsg)return request.RESPONSE.redirect('%s/prefs_ploneradio?portal_status_message=%s'%(context.absolute_url(),'PloneRadio Preferences updated.'))